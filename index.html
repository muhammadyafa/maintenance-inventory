<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maintenance Stock Control - Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; }
        .glass { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px); }
    </style>
</head>
<body class="bg-[#f1f5f9] text-[#1e293b]">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo } = React;

        const MASTER_PASSWORD = "MAINTENANCE2026";
        
        const INITIAL_DATA = [
            { id: 'M-001', name: 'Ball Bearing 6205', category: 'Mechanic', stock: 45, minStock: 10, unit: 'pcs' },
            { id: 'M-002', name: 'V-Belt B-52', category: 'Mechanic', stock: 5, minStock: 8, unit: 'pcs' },
            { id: 'E-101', name: 'Proximity Sensor PNP', category: 'Electric', stock: 12, minStock: 5, unit: 'unit' },
            { id: 'E-105', name: 'Contactor 220V 12A', category: 'Electric', stock: 3, minStock: 10, unit: 'pcs' },
            { id: 'T-201', name: 'Kunci Pas 14-17', category: 'Tools', stock: 15, minStock: 5, unit: 'set' }
        ];

        function App() {
            const [isLoggedIn, setIsLoggedIn] = useState(false);
            const [pass, setPass] = useState("");
            const [inventory, setInventory] = useState(INITIAL_DATA);
            const [search, setSearch] = useState("");
            const [filterStatus, setFilterStatus] = useState("all"); // 'all' or 'reorder'

            const stats = useMemo(() => ({
                total: inventory.length,
                reorder: inventory.filter(i => i.stock <= i.minStock).length,
                transactions: 0
            }), [inventory]);

            const filteredData = inventory.filter(item => {
                const matchesSearch = item.name.toLowerCase().includes(search.toLowerCase()) || item.id.toLowerCase().includes(search.toLowerCase());
                const matchesFilter = filterStatus === "all" ? true : item.stock <= item.minStock;
                return matchesSearch && matchesFilter;
            });

            if (!isLoggedIn) {
                return (
                    <div className="min-h-screen flex items-center justify-center bg-[#0f172a] p-4">
                        <div className="bg-white p-8 rounded-3xl shadow-2xl w-full max-w-md border border-slate-700">
                            <div className="flex items-center gap-3 mb-8">
                                <div className="bg-blue-600 p-2 rounded-xl text-white">
                                    <i data-lucide="package-2"></i>
                                </div>
                                <h1 className="text-2xl font-bold tracking-tight text-slate-900">Stock Control</h1>
                            </div>
                            <form onSubmit={(e) => {
                                e.preventDefault();
                                if(pass === MASTER_PASSWORD) setIsLoggedIn(true);
                                else alert("Password Salah!");
                            }}>
                                <div className="space-y-4">
                                    <input 
                                        type="password" 
                                        className="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none transition-all"
                                        placeholder="Enter Auth Password"
                                        onChange={(e) => setPass(e.target.value)}
                                    />
                                    <button className="w-full bg-slate-900 text-white font-bold py-4 rounded-2xl hover:bg-slate-800 shadow-lg shadow-slate-200 transition-all active:scale-95">
                                        Access Dashboard
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen pb-20">
                    {/* Top Bar */}
                    <nav className="glass sticky top-0 z-50 border-b border-slate-200 px-4 py-4 mb-8">
                        <div className="max-w-7xl mx-auto flex justify-between items-center">
                            <div className="flex items-center gap-3">
                                <div className="bg-slate-900 p-2 rounded-lg text-white">
                                    <i data-lucide="box"></i>
                                </div>
                                <div>
                                    <h1 className="text-xl font-extrabold text-slate-900 leading-none">Stock Control</h1>
                                    <p className="text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1">Factory Maintenance Div.</p>
                                </div>
                            </div>
                            <button onClick={() => setIsLoggedIn(false)} className="flex items-center gap-2 text-slate-600 hover:text-red-600 font-semibold transition-colors">
                                <i data-lucide="log-out" className="w-4 h-4"></i> Sign Out
                            </button>
                        </div>
                    </nav>

                    <div className="max-w-7xl mx-auto px-4">
                        {/* Summary Cards */}
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                            <div className="bg-white p-6 rounded-[2rem] shadow-sm border border-slate-200 relative overflow-hidden">
                                <div className="flex justify-between items-start">
                                    <div>
                                        <p className="text-sm font-bold text-slate-400 mb-1">Total SKU</p>
                                        <h3 className="text-4xl font-extrabold text-slate-900">{stats.total}</h3>
                                        <p className="text-xs font-bold text-green-500 mt-2 flex items-center gap-1">
                                            Active <span className="font-normal text-slate-400 italic">database record</span>
                                        </p>
                                    </div>
                                    <div className="bg-blue-50 p-3 rounded-2xl text-blue-600">
                                        <i data-lucide="layers"></i>
                                    </div>
                                </div>
                            </div>
                            
                            <div className="bg-white p-6 rounded-[2rem] shadow-sm border border-slate-200 relative overflow-hidden">
                                <div className="flex justify-between items-start">
                                    <div>
                                        <p className="text-sm font-bold text-slate-400 mb-1">Items to Reorder</p>
                                        <h3 className="text-4xl font-extrabold text-red-600">{stats.reorder}</h3>
                                        <p className="text-xs font-bold text-red-500 mt-2 flex items-center gap-1">
                                            Attention <span className="font-normal text-slate-400 italic">needed</span>
                                        </p>
                                    </div>
                                    <div className="bg-red-50 p-3 rounded-2xl text-red-600">
                                        <i data-lucide="alert-circle"></i>
                                    </div>
                                </div>
                            </div>

                            <div className="bg-white p-6 rounded-[2rem] shadow-sm border border-slate-200 relative overflow-hidden">
                                <div className="flex justify-between items-start">
                                    <div>
                                        <p className="text-sm font-bold text-slate-400 mb-1">Today's Transactions</p>
                                        <h3 className="text-4xl font-extrabold text-slate-900">0</h3>
                                        <p className="text-xs font-bold text-purple-500 mt-2 flex items-center gap-1">
                                            Real-time <span className="font-normal text-slate-400 italic">updates</span>
                                        </p>
                                    </div>
                                    <div className="bg-purple-50 p-3 rounded-2xl text-purple-600">
                                        <i data-lucide="activity"></i>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Search & Filter */}
                        <div className="bg-white p-3 rounded-3xl shadow-sm border border-slate-200 mb-6 flex flex-col md:flex-row gap-3">
                            <div className="relative flex-1">
                                <i data-lucide="search" className="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"></i>
                                <input 
                                    type="text" 
                                    className="w-full pl-12 pr-4 py-3 bg-slate-50 border-none rounded-2xl outline-none focus:ring-2 focus:ring-blue-500 transition-all"
                                    placeholder="Search by Part Name or ID..."
                                    value={search}
                                    onChange={(e) => setSearch(e.target.value)}
                                />
                            </div>
                            <div className="flex bg-slate-100 p-1.5 rounded-2xl">
                                <button 
                                    onClick={() => setFilterStatus("all")}
                                    className={`px-6 py-2 rounded-xl text-sm font-bold transition-all ${filterStatus === 'all' ? 'bg-white shadow-sm text-slate-900' : 'text-slate-500 hover:text-slate-700'}`}
                                >
                                    All Items
                                </button>
                                <button 
                                    onClick={() => setFilterStatus("reorder")}
                                    className={`px-6 py-2 rounded-xl text-sm font-bold transition-all flex items-center gap-2 ${filterStatus === 'reorder' ? 'bg-white shadow-sm text-red-600' : 'text-slate-500 hover:text-slate-700'}`}
                                >
                                    <i data-lucide="triangle-alert" className="w-4 h-4"></i> Reorder Only
                                </button>
                            </div>
                        </div>

                        {/* Inventory Table */}
                        <div className="bg-white rounded-[2.5rem] shadow-sm border border-slate-200 overflow-hidden">
                            <div className="overflow-x-auto">
                                <table className="w-full text-left">
                                    <thead>
                                        <tr className="border-b border-slate-100">
                                            <th className="px-8 py-5 text-[10px] font-extrabold text-slate-400 uppercase tracking-widest">Part Info</th>
                                            <th className="px-6 py-5 text-[10px] font-extrabold text-slate-400 uppercase tracking-widest text-center">Category</th>
                                            <th className="px-6 py-5 text-[10px] font-extrabold text-slate-400 uppercase tracking-widest text-center">Stock Level</th>
                                            <th className="px-6 py-5 text-[10px] font-extrabold text-slate-400 uppercase tracking-widest text-center">Status</th>
                                            <th className="px-8 py-5 text-[10px] font-extrabold text-slate-400 uppercase tracking-widest text-center">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody className="divide-y divide-slate-50">
                                        {filteredData.map(item => (
                                            <tr key={item.id} className="hover:bg-slate-50/50 transition-colors">
                                                <td className="px-8 py-6">
                                                    <div className="flex items-center gap-4">
                                                        <div className="w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center font-bold text-slate-400 text-xs">
                                                            {item.name.charAt(0)}
                                                        </div>
                                                        <div>
                                                            <p className="font-extrabold text-slate-900 text-base">{item.name}</p>
                                                            <p className="text-[10px] font-bold text-slate-400 mt-1 uppercase tracking-wider">ID: {item.id}</p>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td className="px-6 py-6 text-center">
                                                    <span className="inline-flex items-center gap-1.5 text-xs font-bold text-blue-600 px-3 py-1 bg-blue-50 rounded-lg">
                                                        <i data-lucide={item.category === 'Mechanic' ? 'wrench' : item.category === 'Electric' ? 'zap' : 'tool'} className="w-3 h-3"></i>
                                                        {item.category}
                                                    </span>
                                                </td>
                                                <td className="px-6 py-6 text-center">
                                                    <div className="flex flex-col items-center">
                                                        <span className={`text-base font-extrabold ${item.stock <= item.minStock ? 'text-red-600' : 'text-slate-900'}`}>
                                                            {item.stock} <span className="text-[10px] font-normal text-slate-400 lowercase">{item.unit}</span>
                                                        </span>
                                                        <span className="text-[10px] font-bold text-slate-300 mt-0.5 uppercase tracking-tighter">Min: {item.minStock}</span>
                                                    </div>
                                                </td>
                                                <td className="px-6 py-6 text-center">
                                                    {item.stock <= item.minStock ? (
                                                        <span className="px-3 py-1.5 bg-red-50 text-red-600 text-[10px] font-black rounded-full border border-red-100">
                                                            ⚠️ REORDER
                                                        </span>
                                                    ) : (
                                                        <span className="px-3 py-1.5 bg-green-50 text-green-600 text-[10px] font-black rounded-full border border-green-100">
                                                            ✅ AMAN
                                                        </span>
                                                    )}
                                                </td>
                                                <td className="px-8 py-6">
                                                    <div className="flex items-center justify-center gap-2">
                                                        <button 
                                                            onClick={() => setInventory(prev => prev.map(i => i.id === item.id ? {...i, stock: i.stock + 1} : i))}
                                                            className="px-4 py-2 bg-green-50 text-green-700 rounded-xl font-bold text-xs hover:bg-green-600 hover:text-white transition-all active:scale-95 flex items-center gap-2"
                                                        >
                                                            <i data-lucide="plus" className="w-3 h-3"></i> Incoming
                                                        </button>
                                                        <button 
                                                            onClick={() => setInventory(prev => prev.map(i => i.id === item.id ? {...i, stock: Math.max(0, i.stock - 1)} : i))}
                                                            className="px-4 py-2 bg-orange-50 text-orange-700 rounded-xl font-bold text-xs hover:bg-orange-600 hover:text-white transition-all active:scale-95 flex items-center gap-2"
                                                        >
                                                            <i data-lucide="minus" className="w-3 h-3"></i> Outgoing
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
        
        // Dynamic icons refresh
        const observer = new MutationObserver(() => lucide.createIcons());
        observer.observe(document.getElementById('root'), { childList: true, subtree: true });
        lucide.createIcons();
    </script>
</body>
</html>
